<div class="container main-menu">
  <div class="row align-items-center justify-content-between d-flex">
    <div id="logo">
      <a href="/"><img src="/img/brand/blockdegree_dark.png" alt="blockdegree blockchain education training"
          class="logo-dark" /></a>
      <a href="/"><img src="/img/brand/blockdegree_white.png" alt="blockdegree blockchain education training"
          class="logo-white" /></a>
    </div>

    <nav id="nav-menu-container">
      <ul class="nav-menu">
        <li class="menu-has-children"><a class="py-1" style="color: white">Online Blockchain Training</a>
          <ul id="nav-sub-1">
            <script id="nav-submenu-template" type="text/template">
              \{{#each courses}}
                <li><a href="/\{{slug}}" onclick="window.location.href='/\{{slug}}'" data-toggle="modal" data-target="#exampleModal" data-whatever="@getbootstra">
                  \{{title}}
                </a></li>
              \{{/each}}
            </script>
          </ul>
        </li>
        <li><a href="/exams" class="py-1">Take Exam</a></li>
        <li><a href="/profile" id="profile-btn" style="display: none;" class="py-1">Profile</a></li>
        <li><a href="/verify-certification" class="py-1">Verify Certification</a></li>
        <li><a href="/contact" class="py-1">Contact Us</a></li>
        <li id="login-btn">

          <a id="nav-login" style="display: none" class="btn btn-primary btn-cstm-rounded px-5 py-1 text-white">
          </a>
        </li>
        </li>
      </ul>
    </nav>
  </div>
</div>
<script>

  $(async function () {
    console.log("called");
    let loginButton = document.getElementById("nav-login"),
      profileBtn = document.getElementById("profile-btn");

    let resp = await fetch("/api/current_user");
    let respJSON = await resp.json();
    if (respJSON.status) {
      //is logged in
      loginButton.innerHTML = "Logout";
      loginButton.setAttribute("href", "/logout");
      loginButton.style = "display:inline";
      profileBtn.style = "display:block";
    } else {
      loginButton.innerHTML = "Login";
      loginButton.setAttribute("href", "/login");
      loginButton.style = "display:inline";
    }
  });
</script>